{% extends "dashboard/base_dashboard.html" %}

{% block title %}Param√®tres - WeBox Multi-IA{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="/static/css/settings.css">
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>‚öôÔ∏è Param√®tres</h1>
    <p>G√©rez vos pr√©f√©rences et votre compte</p>
</div>

    <!-- Tabs -->
    <div class="settings-tabs">
        <button class="tab-btn active" data-tab="account">Compte</button>
        <button class="tab-btn" data-tab="security">S√©curit√©</button>
        <button class="tab-btn" data-tab="preferences">Pr√©f√©rences</button>
        <button class="tab-btn" data-tab="api">Cl√©s API</button>
    </div>

    <!-- Tab Content: Compte -->
    <div class="tab-content active" id="account-tab">
        <div class="settings-section">
            <h2>üë§ Informations du compte</h2>
            <div class="form-group">
                <label>Nom complet</label>
                <input type="text" class="form-input" value="{{ user.name }}" placeholder="Votre nom">
            </div>
            <div class="form-group">
                <label>Email</label>
                <input type="email" class="form-input" value="{{ user.email }}" placeholder="votre@email.com">
            </div>
            <div class="form-group">
                <label>Bio</label>
                <textarea class="form-input" rows="3" placeholder="Parlez-nous de vous..."></textarea>
            </div>
            <button class="btn btn-primary">Enregistrer les modifications</button>
        </div>

        <div class="settings-section">
            <h2>üñºÔ∏è Photo de profil</h2>
            <div class="avatar-upload">
                <div class="avatar-preview">
                    {% if user.avatar %}
                    <img src="{{ user.avatar }}" alt="Avatar">
                    {% else %}
                    <div class="avatar-placeholder">{{ user.name[0] if user.name else 'U' }}</div>
                    {% endif %}
                </div>
                <div class="avatar-actions">
                    <button class="btn btn-outline">Changer la photo</button>
                    <button class="btn btn-text">Supprimer</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab Content: S√©curit√© -->
    <div class="tab-content" id="security-tab">
        <div class="settings-section">
            <h2>üîí Mot de passe</h2>
            <div class="form-group">
                <label>Mot de passe actuel</label>
                <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            <div class="form-group">
                <label>Nouveau mot de passe</label>
                <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            <div class="form-group">
                <label>Confirmer le mot de passe</label>
                <input type="password" class="form-input" placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢">
            </div>
            <button class="btn btn-primary">Changer le mot de passe</button>
        </div>

        <div class="settings-section">
            <h2>üîê Authentification √† deux facteurs</h2>
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-title">Activer 2FA</div>
                    <div class="setting-description">Ajoutez une couche de s√©curit√© suppl√©mentaire √† votre compte</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox">
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>

        <div class="settings-section">
            <h2>üì± Sessions actives</h2>
            <div class="sessions-list">
                <div class="session-item">
                    <div class="session-icon">üíª</div>
                    <div class="session-info">
                        <div class="session-device">Windows - Chrome</div>
                        <div class="session-location">Paris, France</div>
                        <div class="session-time">Actif maintenant</div>
                    </div>
                    <button class="btn btn-outline">D√©connecter</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tab Content: Pr√©f√©rences -->
    <div class="tab-content" id="preferences-tab">
        <div class="settings-section">
            <h2>üé® Apparence</h2>
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-title">Th√®me sombre</div>
                    <div class="setting-description">Activer le mode sombre pour r√©duire la fatigue oculaire</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox">
                    <span class="toggle-slider"></span>
                </label>
            </div>
            <div class="form-group">
                <label>Langue</label>
                <select class="form-input">
                    <option value="fr">Fran√ßais</option>
                    <option value="en">English</option>
                    <option value="es">Espa√±ol</option>
                </select>
            </div>
        </div>

        <div class="settings-section">
            <h2>ü§ñ Pr√©f√©rences IA</h2>
            <div class="form-group">
                <label>Mod√®le IA par d√©faut</label>
                <select class="form-input">
                    <option value="gpt-4o">GPT-4o</option>
                    <option value="claude-3-5-sonnet">Claude 3.5 Sonnet</option>
                    <option value="gemini-2.0-flash">Gemini 2.0 Flash</option>
                </select>
            </div>
            <div class="setting-item">
                <div class="setting-info">
                    <div class="setting-title">Suggestions automatiques</div>
                    <div class="setting-description">Recevoir des suggestions de prompts bas√©es sur votre utilisation</div>
                </div>
                <label class="toggle-switch">
                    <input type="checkbox" checked>
                    <span class="toggle-slider"></span>
                </label>
            </div>
        </div>
    </div>

    <!-- Tab Content: API -->
    <div class="tab-content" id="api-tab">
        <div class="settings-section">
            <h2>üîë Cl√©s API personnelles</h2>
            <p class="section-description">Configurez vos propres cl√©s API pour utiliser vos quotas personnels</p>
            
            <div class="api-key-item">
                <div class="api-key-header">
                    <span class="api-provider">OpenAI</span>
                    <button class="btn btn-text">Configurer</button>
                </div>
            </div>

            <div class="api-key-item">
                <div class="api-key-header">
                    <span class="api-provider">Anthropic (Claude)</span>
                    <button class="btn btn-text">Configurer</button>
                </div>
            </div>

            <div class="api-key-item">
                <div class="api-key-header">
                    <span class="api-provider">Google (Gemini)</span>
                    <button class="btn btn-text">Configurer</button>
                </div>
            </div>
        </div>

        <div class="settings-section">
            <h2>‚ö†Ô∏è Zone de danger</h2>
            <div class="danger-zone">
                <div class="danger-item">
                    <div class="danger-info">
                        <div class="danger-title">Supprimer toutes les donn√©es</div>
                        <div class="danger-description">Supprime d√©finitivement toutes vos conversations et donn√©es</div>
                    </div>
                    <button class="btn btn-danger">Supprimer les donn√©es</button>
                </div>
                <div class="danger-item">
                    <div class="danger-info">
                        <div class="danger-title">Supprimer le compte</div>
                        <div class="danger-description">Supprime d√©finitivement votre compte WeBox</div>
                    </div>
                    <button class="btn btn-danger">Supprimer le compte</button>
                </div>
            </div>
        </div>
    </div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Tabs
    const tabButtons = document.querySelectorAll('.tab-btn');
    const tabContents = document.querySelectorAll('.tab-content');

    tabButtons.forEach(btn => {
        btn.addEventListener('click', function() {
            const tabId = this.dataset.tab;
            
            // Remove active class from all
            tabButtons.forEach(b => b.classList.remove('active'));
            tabContents.forEach(c => c.classList.remove('active'));
            
            // Add active class to current
            this.classList.add('active');
            document.getElementById(tabId + '-tab').classList.add('active');
        });
    });
});
</script>
{% endblock %}
