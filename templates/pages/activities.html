{% extends "dashboard/base_dashboard.html" %}

{% block title %}Mes Activit√©s - WeBox{% endblock %}

{% block extra_css %}
<style>
    .activities-page {
        max-width: 1200px;
        margin: 0 auto;
    }

    .stats-overview {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .stat-card {
        background: white;
        padding: 1.5rem;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        text-align: center;
    }

    .stat-icon {
        font-size: 2.5rem;
        margin-bottom: 0.5rem;
    }

    .stat-value {
        font-size: 2rem;
        font-weight: 700;
        color: #1a1a2e;
        margin-bottom: 0.25rem;
    }

    .stat-label {
        color: #666;
        font-size: 0.9rem;
    }

    .filters-bar {
        background: white;
        padding: 1.5rem;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        margin-bottom: 2rem;
        display: flex;
        gap: 1rem;
        flex-wrap: wrap;
        align-items: center;
    }

    .filter-btn {
        padding: 0.5rem 1.5rem;
        background: #f8f9fa;
        border: 2px solid #e0e0e0;
        border-radius: 20px;
        cursor: pointer;
        transition: all 0.3s;
        font-weight: 500;
    }

    .filter-btn:hover {
        border-color: #4169e1;
        background: rgba(65, 105, 225, 0.1);
    }

    .filter-btn.active {
        background: #4169e1;
        color: white;
        border-color: #4169e1;
    }

    .timeline {
        background: white;
        border-radius: 15px;
        padding: 2rem;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .timeline-item {
        display: flex;
        gap: 1.5rem;
        padding: 1.5rem 0;
        border-bottom: 1px solid #f0f0f0;
    }

    .timeline-item:last-child {
        border-bottom: none;
    }

    .timeline-icon {
        flex-shrink: 0;
        width: 50px;
        height: 50px;
        background: linear-gradient(135deg, #ffd700 0%, #ffed4e 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
    }

    .timeline-content {
        flex: 1;
    }

    .timeline-header {
        display: flex;
        justify-content: space-between;
        align-items: start;
        margin-bottom: 0.5rem;
    }

    .timeline-title {
        font-weight: 700;
        font-size: 1.1rem;
        color: #1a1a2e;
    }

    .timeline-time {
        color: #999;
        font-size: 0.85rem;
    }

    .timeline-description {
        color: #666;
        line-height: 1.6;
        margin-bottom: 0.75rem;
    }

    .timeline-tags {
        display: flex;
        gap: 0.5rem;
        flex-wrap: wrap;
    }

    .timeline-tag {
        padding: 0.25rem 0.75rem;
        background: #f0f0f0;
        border-radius: 15px;
        font-size: 0.75rem;
        color: #666;
    }

    .activity-type-creation {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    }

    .activity-type-modification {
        background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    }

    .activity-type-collaboration {
        background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
    }

    .activity-type-system {
        background: linear-gradient(135deg, #43e97b 0%, #38f9d7 100%);
    }

    .empty-state {
        text-align: center;
        padding: 4rem 2rem;
        background: white;
        border-radius: 15px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .empty-state-icon {
        font-size: 5rem;
        margin-bottom: 1rem;
    }
</style>
{% endblock %}

{% block content %}
<div class="page-header">
    <h1>üìä Mes Activit√©s</h1>
    <p>Suivez toutes vos actions et activit√©s sur WeBox</p>
</div>

<div class="activities-page">
    <!-- Statistiques -->
    <div class="stats-overview">
        <div class="stat-card">
            <div class="stat-icon">üé®</div>
            <div class="stat-value" id="totalCreations">0</div>
            <div class="stat-label">Cr√©ations</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">‚úèÔ∏è</div>
            <div class="stat-value" id="totalEdits">0</div>
            <div class="stat-label">Modifications</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">üë•</div>
            <div class="stat-value" id="totalCollaborations">0</div>
            <div class="stat-label">Collaborations</div>
        </div>
        <div class="stat-card">
            <div class="stat-icon">‚ö°</div>
            <div class="stat-value" id="totalActions">0</div>
            <div class="stat-label">Actions totales</div>
        </div>
    </div>

    <!-- Filtres -->
    <div class="filters-bar">
        <button class="filter-btn active" data-filter="all">Toutes</button>
        <button class="filter-btn" data-filter="creation">Cr√©ations</button>
        <button class="filter-btn" data-filter="modification">Modifications</button>
        <button class="filter-btn" data-filter="collaboration">Collaborations</button>
        <button class="filter-btn" data-filter="system">Syst√®me</button>
    </div>

    <!-- Timeline des activit√©s -->
    <div class="timeline" id="activitiesTimeline">
        <!-- Activit√© 1 -->
        <div class="timeline-item" data-type="creation">
            <div class="timeline-icon activity-type-creation">üéôÔ∏è</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Cr√©ation d'un podcast</div>
                    <div class="timeline-time">Il y a 2 heures</div>
                </div>
                <div class="timeline-description">
                    Vous avez cr√©√© le podcast "Tech & Innovation" avec 5 √©pisodes g√©n√©r√©s par l'IA
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">Podcast</span>
                    <span class="timeline-tag">IA</span>
                </div>
            </div>
        </div>

        <!-- Activit√© 2 -->
        <div class="timeline-item" data-type="modification">
            <div class="timeline-icon activity-type-modification">‚úèÔ∏è</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Modification d'avatar</div>
                    <div class="timeline-time">Il y a 5 heures</div>
                </div>
                <div class="timeline-description">
                    Vous avez modifi√© l'avatar "Sarah" - Ajout de nouvelles expressions faciales
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">Avatar</span>
                    <span class="timeline-tag">√âdition</span>
                </div>
            </div>
        </div>

        <!-- Activit√© 3 -->
        <div class="timeline-item" data-type="collaboration">
            <div class="timeline-icon activity-type-collaboration">üë•</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Collaboration sur un projet</div>
                    <div class="timeline-time">Hier √† 14:30</div>
                </div>
                <div class="timeline-description">
                    Vous avez partag√© le projet "Marketing Campaign 2026" avec 3 membres de l'√©quipe
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">Collaboration</span>
                    <span class="timeline-tag">Projet</span>
                </div>
            </div>
        </div>

        <!-- Activit√© 4 -->
        <div class="timeline-item" data-type="creation">
            <div class="timeline-icon activity-type-creation">üì∫</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Cr√©ation d'une s√©rie vid√©o</div>
                    <div class="timeline-time">Hier √† 10:15</div>
                </div>
                <div class="timeline-description">
                    Vous avez cr√©√© la s√©rie "Tutoriels WeBox" avec 10 √©pisodes planifi√©s
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">S√©rie</span>
                    <span class="timeline-tag">Vid√©o</span>
                </div>
            </div>
        </div>

        <!-- Activit√© 5 -->
        <div class="timeline-item" data-type="system">
            <div class="timeline-icon activity-type-system">‚öôÔ∏è</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Mise √† jour du profil</div>
                    <div class="timeline-time">Il y a 2 jours</div>
                </div>
                <div class="timeline-description">
                    Vous avez mis √† jour vos informations de profil et vos pr√©f√©rences
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">Profil</span>
                    <span class="timeline-tag">Param√®tres</span>
                </div>
            </div>
        </div>

        <!-- Activit√© 6 -->
        <div class="timeline-item" data-type="creation">
            <div class="timeline-icon activity-type-creation">üìÑ</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Analyse de document</div>
                    <div class="timeline-time">Il y a 3 jours</div>
                </div>
                <div class="timeline-description">
                    Vous avez analys√© le document "Rapport_Q4_2025.pdf" avec l'IA
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">Document</span>
                    <span class="timeline-tag">Analyse</span>
                </div>
            </div>
        </div>

        <!-- Activit√© 7 -->
        <div class="timeline-item" data-type="creation">
            <div class="timeline-icon activity-type-creation">üìß</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Campagne email cr√©√©e</div>
                    <div class="timeline-time">Il y a 4 jours</div>
                </div>
                <div class="timeline-description">
                    Vous avez cr√©√© la campagne "Newsletter Janvier 2026" avec 1,250 destinataires
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">Email</span>
                    <span class="timeline-tag">Marketing</span>
                </div>
            </div>
        </div>

        <!-- Activit√© 8 -->
        <div class="timeline-item" data-type="system">
            <div class="timeline-icon activity-type-system">üîê</div>
            <div class="timeline-content">
                <div class="timeline-header">
                    <div class="timeline-title">Connexion depuis un nouvel appareil</div>
                    <div class="timeline-time">Il y a 5 jours</div>
                </div>
                <div class="timeline-description">
                    Connexion d√©tect√©e depuis Chrome sur Windows (Paris, France)
                </div>
                <div class="timeline-tags">
                    <span class="timeline-tag">S√©curit√©</span>
                    <span class="timeline-tag">Connexion</span>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Calculer les statistiques
    calculateStats();

    // Gestion des filtres
    const filterBtns = document.querySelectorAll('.filter-btn');
    filterBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            // Retirer la classe active de tous les boutons
            filterBtns.forEach(b => b.classList.remove('active'));
            // Ajouter la classe active au bouton cliqu√©
            this.classList.add('active');

            // Filtrer les activit√©s
            const filter = this.dataset.filter;
            filterActivities(filter);
        });
    });
});

function calculateStats() {
    const items = document.querySelectorAll('.timeline-item');
    let creations = 0;
    let edits = 0;
    let collaborations = 0;

    items.forEach(item => {
        const type = item.dataset.type;
        if (type === 'creation') creations++;
        if (type === 'modification') edits++;
        if (type === 'collaboration') collaborations++;
    });

    document.getElementById('totalCreations').textContent = creations;
    document.getElementById('totalEdits').textContent = edits;
    document.getElementById('totalCollaborations').textContent = collaborations;
    document.getElementById('totalActions').textContent = items.length;
}

function filterActivities(filter) {
    const items = document.querySelectorAll('.timeline-item');
    
    items.forEach(item => {
        if (filter === 'all') {
            item.style.display = 'flex';
        } else {
            if (item.dataset.type === filter) {
                item.style.display = 'flex';
            } else {
                item.style.display = 'none';
            }
        }
    });
}
</script>
{% endblock %}
